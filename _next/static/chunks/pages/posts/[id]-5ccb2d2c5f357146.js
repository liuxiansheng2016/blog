(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[997],{5166:(t,e,s)=>{(window.__NEXT_P=window.__NEXT_P||[]).push(["/posts/[id]",function(){return s(60)}])},6700:(t,e,s)=>{"use strict";s.d(e,{A:()=>d});var a=s(4848),n=s(6540),i=s(9063),o=s.n(i),l=s(1106),c=s.n(l),r=s(6715);function h(t){let{posts:e=[],children:s}=t,i=(0,r.useRouter)(),[l,h]=(0,n.useState)({"/posts/Node":!0}),[d,_]=(0,n.useState)([{title:"首页",path:"/"}]);(0,n.useEffect)(()=>{let t=[{title:"首页",path:"/"}];e.forEach(e=>{var s;let a={title:e.title,path:"/posts/".concat(e.id)};(null===(s=e.h2Titles)||void 0===s?void 0:s.length)>0&&(a.subItems=e.h2Titles.map(t=>({title:t.title,path:"/posts/".concat(e.id,"#").concat(t.id)}))),t.push(a)}),_(t)},[e]);let u=t=>{h(e=>({...e,[t]:!e[t]}))},m=t=>"/"===t?"/"===i.pathname:i.asPath.startsWith(t);return(0,a.jsxs)("div",{className:o().container,children:[(0,a.jsx)("aside",{className:o().sidebar,children:(0,a.jsxs)("nav",{children:[(0,a.jsx)("h2",{children:"博客导航"}),(0,a.jsx)("ul",{children:d.map(t=>(0,a.jsxs)("li",{children:[(0,a.jsxs)("div",{className:"".concat(o().navItem," ").concat(t.subItems?o().hasChildren:""),onClick:()=>t.subItems&&u(t.path),children:[(0,a.jsx)(c(),{href:t.path,className:"".concat(o().link," ").concat(m(t.path)?o().active:""),onClick:t=>t.stopPropagation(),children:t.title}),t.subItems&&(0,a.jsx)("span",{className:"".concat(o().arrow," ").concat(l[t.path]?o().expanded:"")})]}),t.subItems&&l[t.path]&&(0,a.jsx)("ul",{className:o().subNav,children:t.subItems.map(t=>{let e=decodeURIComponent(i.asPath)===t.path;return(0,a.jsx)("li",{children:(0,a.jsx)("p",{onClick:e=>{e.preventDefault(),console.log("subItem.path",t.path),i.push(t.path)},className:"".concat(o().link," ").concat(e?o().active:""),children:t.title})},t.path)})})]},t.path))})]})}),(0,a.jsx)("main",{className:o().main,children:s})]})}function d(t){let{children:e,posts:s,onMount:i}=t;return(0,n.useEffect)(()=>{let t=sessionStorage.getItem("scrollPosition");t&&window.scrollTo(0,parseInt(t,10)),null==i||i();let e=()=>{sessionStorage.setItem("scrollPosition",window.scrollY)};return window.addEventListener("beforeunload",e),()=>{window.removeEventListener("beforeunload",e)}},[i]),(0,a.jsxs)(h,{posts:s,children:[" ",e," "]})}},60:(t,e,s)=>{"use strict";s.r(e),s.d(e,{__N_SSG:()=>l,default:()=>c});var a=s(4848),n=s(6700),i=s(2297),o=s.n(i),l=!0;function c(t){let{postData:e,allPostsData:s}=t;return e?(0,a.jsxs)(n.A,{posts:s,onMount:()=>{if(window.location.hash){let t=window.location.hash.substring(1),e=document.getElementById(t);e&&e.scrollIntoView({behavior:"smooth"})}},children:[(0,a.jsxs)("article",{className:o().article,children:[(0,a.jsxs)("h1",{children:[" ",e.title," "]})," ",(0,a.jsxs)("div",{className:o().meta,children:[(0,a.jsxs)("time",{children:[" ",e.date," "]})," "]})," ",(0,a.jsx)("div",{className:o().content,dangerouslySetInnerHTML:{__html:e.contentHtml}})," "]})," "]}):(0,a.jsx)("div",{children:" 文章加载失败 "})}},9063:t=>{t.exports={container:"Layout_container__m5jTj",sidebar:"Layout_sidebar__x3OPI",link:"Layout_link__nT2lh",active:"Layout_active___S4if",main:"Layout_main__bVVJR",navItem:"Layout_navItem__0Yvho",hasChildren:"Layout_hasChildren__U1nvC",arrow:"Layout_arrow__Bng9V",expanded:"Layout_expanded__EpSkz",subNav:"Layout_subNav__sjkqq"}},2297:t=>{t.exports={article:"Post_article__hxT42",meta:"Post_meta__s01mg",content:"Post_content__bOW5d"}}},t=>{var e=e=>t(t.s=e);t.O(0,[392,636,593,792],()=>e(5166)),_N_E=t.O()}]);